import numpy as np
from scipy.signal import convolve2d


puzzle = """
...@.@@@@@..@.@.@@@@@..@@@@.@@@@@@@..@.@.@@@@@.@@@..@..@@..@@@@@@.@.@.@@@@@@.@@.@@@@..@.....@.@.@....@@.@@@.@@@.@@@@.@@@.@.@.@@@@.@@@@.@@@@.
.@.@.@.@@@@@@.@@@..@@@@@@@@@@.....@@@@@@@@@@..@@@@@@..@@@...@.@.@@.@@.@@@@@@.@.@@@@.@@@@.@@@@@.@@@@@.@@@@@.@.@.@@@.@.@.@@@@.@@.@@@@@@@@@@@@@
@@@@@..@.@@@@.@.@@.@@@.@@@@..@@.@..@.@@@.@@.@.@@.@@@@@@..@@@@@..@@@@.@.@@@@.@@..@@@@....@@@....@.@@...@@@.@.@@@.@.@.@@@@@@@@@@@@@@.@@..@.@.@
@@@.@@@@@..@@@@@@@@.@@@.@...@..@.@@......@@.@@.@@.@@@@@@@@...@@@@.@@@@@@@@@@@.@@@.@.@@@@@.@@.@@@@@@@@@.@@@@.@@@.@..@.@@.@@@@...@.@..@@@...@.
@...@@@.@@.@@@@.@.@@....@@.@@@.@..@..@@.@@@@.@..@@@@@@...@@.@@@@@@@.@.@.@@@....@@.@@@@@@.@@@.@@@@@@@@@@.@@@..@@@.@@..@@@@@@@.@@@..@...@@@@.@
.@@...@@.@..@@@@..@@.@@@@@@..@..@@.@@@@..@@@@@@@@@@@@@@@@..@@@@@@.@@@@..@@@.@@.@@@@@@.@...@...@@@@.@.@@@.@..@@@.@@.@@@.@.@@@@@@.@@@.@@@@@.@@
.@@@@...@.@@.@@@@.@@@@@.@@@@..@@@@@...@@@@@.@@@@@@..@@@@@...@@@@@@.@...@@@@@@.....@@@@@@@@@@@@@@@.@@@@.@@@@@..@@@.@@@.@@@@@@@.@..@@@@@@@.@@@
@@@@@@@..@@.@...@.@@@@@.@@.@@...@@@@...@..@.@@@@@@.@.@@@.@@.@@@.@.@@@..@.@@@@@@......@@@@@@.@@...@@.@.@@@@@@@.@@.@@..@@@.@.@@@@@@@@@@..@.@@.
@@@@@@@@..@.@@..@.@..@.@...@.@..@@@@.@..@.@.@@.@.@....@@@@@@.@@@@@@@@@.@@@@@@...@@@@@@@.@.@.@@@@@@@.@.@@.@.......@@@@@@..@@..@@@@@..@...@@..
@@.@@@@@@.@.@@..@@@@.@@.@..@...@@..@....@@@..@@@.@..@.@@@@@@@@@...@@@@@.@@@@..@@@@.@@@@@@@@@@@@.@@@@@.@@.@@@@.@@@@@.@@@@@.@@@.@@@@.@@..@@..@
...@@.@@.@@@@.....@@.@.@@..@@@.@@@.@..@@..@.@@.@@@.@@..@@.@@@..@@@.@@.@@@@@@.@@@.@@@@@..@..@@.@.@@.@..@@...@@@@@.@.@@..@@.@...@@@@.@@.@@@@@@
.@@@@@@@@@@.@@.@@@@...@@@@@..@..@@.@@@.@@..@..@@@@.@@..@@@@@@.@@@@@@@@.@..@@@@@@@..@@@@.@@@@@.@....@@.@@@@@@.@.@@@.@@.@.@..@@@@@.....@@.@@.@
@@@@@@@@.@@@@@@@@@.@@.@@@...@@@@...@@@@@@.@@@.@@@@@.@@.@.@.@@@@.@@@@..@@@@@@@.@@@@..@.@.@.@@@@@@@@@@@@@.@@@@@@@.@@.@.@.@@@@@...@@@.@.@@@@@.@
@@.@@@@@@@@@...@@@@@...@@@.@@.@@@@.@@@.@...@..@.@@@.@.@@@@..@@.@@@@.@@...@@@.@..@@.@@@@@.@@@.@@..@.@@.@...@@@....@@@@@......@.@@...@.@@@...@
@..@@.@@.@.@@@.@..@@@@@@@@@@.@.@.@@@@@@@.@@@.@@@.@@.@@@@.@.@..@.@.@@@.@@@@.@.@.@.@....@.@@.@...@.@@@@@@@@..@.@.@@@@.@@@.@@..@@@@@@..@@...@@.
@.@@@@@..@.@@..@@@@.@@@@.@@...@..@@.@.@.@@@@@@@..@.@@@@.@@@@@@@@..@@.@@@...@@@@@..@@@.@@@.@@@@@@@@.@.@.@@@@.@.@@.@.@@.@@@@@@@@.@@@@@@@@@@.@@
@.@.@@@...@@@@@@....@@.@@@@@..@@.@@..@@.@@.@@.@.@@@.@@@@...@..@@..@@.@@@...@@...@@.@@.@@@@@.@@@@@..@@.@@@@.@@.@.@@@@@@@@.@@@@@@.@@@@@@@.@..@
@@.@@@@.@@.@.@.@@@@.@@.@.@@@@.@.@.@@@...@..@@.@@@@@@@.@@@@@@..@@@@.@@@..@@@@@@@.@.@@@..@@@@@@.@..@..@@..@@@@@@@.@@@@..@.@@@@@@.@@.@@@@@@@@@.
.@.@@@.@@.@@@@.@.@.@@@@@.@@.@@@@..@....@@..@@@.@.@@@.@@@@@@@@.@@@...@@@.@.@..@@@@@.@@@.@@..@.@@....@@@...@.@@@@@@@.@@.@@@.@.@@@@@@@@@@@@.@@@
@@@.@@.@@..@.@@.@@.@@@.@@..@..@@..@@@@@@@@@@@@@..@@@@...@@@.@@@.@@.@@..@.....@@@.@..@@@@@@@@@.@@.@@@@@.@@@@@@@@@..@@.@.@@@@@@.@@.@@@@.@@.@@.
.@@@.@@..@@@@@.@@@@.@@@@@@@@...@@@@@.@..@@@@@@@..@..@@@@.@@.@@@.@@@..@.@..@.@.@.@@.@@..@.@@@.....@@.@@@@.@.....@@@.@@@.@@@..@@@.@@...@@@@..@
@@@...@@@@@@@.@@....@@@@@@@@.@@..@@@.@@@@.@@.@.@@@.@@@@@@@@@@@.@@..@@@@.@@...@......@....@@@..@@@@..@.@@@@.@@....@@.@@.@.@@@@@.@.@.@@.@.@.@@
@@...@@@@@@.@.@@@.@@.@@.@@@@@@.@@..@@@.@@.@.@....@@.@..@@@@@@@@.@@.@.@...@...@@@..@.@@@@@@.@..@.@@@.@@@@@@@@@@.@.@.@.@@.@@@@@@.@@@@@@@@@..@@
@..@@@..@..@@@.@.@@@..@@@...@..@..@.@@..@@@.@@@.@@@@..@.@@@@@.@@@@.@@..@@@@@@.@@@@@.@@.@..@@@@@@.@@.@@@..@@@@@@..@@@.@@@@@.@@@@..@.@..@.@..@
...@@..@@.@@.@@@@@.@@@.@@.@.@@@@.@@@@@@@.@@..@@.@@..@@@@.@@..@.@@@@@..@@.@.@@@@@@@@@@@.@.@..@@@@@@..@@@.@.@@@@.....@.@@..@@.@@@.@.@.@...@@@.
@@@..@.@@....@@@@@.@@@@@.@@@@.@@@.@@@@.@..@@@@@@..@..@@@@@@@@.@@@@.@@@@@@.@@@...@.@@.@@@@.@@.@@..@.....@@@...@.@.@..@@.@@@@.@@@@@@..@@.@.@@@
@@@@.@@.@@@..@.@@@@.@@.@@@@@...@@.@.@@@@..@@@@@@@.@@...@@@..@@@@@@@.@@.@..@@@@.@.@@@@@.@.@@@..@@@..@@.@.@...@@@..@.@@@.@@.@@@@@@....@@....@@
@@@.@.@@@@@@@@@@...@@.@.@@.@@.@.@@.@..@..@..@@.@@@@@@@@@@@.@@..@.@@@@@..@.@@@....@..@@.@@.@@.@.@@@@@.@@@@@@..@@@.@@@@@@@@.@.@@.@.@.@@.@@@.@@
@@@.@.@..@@.@.@@@...@@@.@@@@..@@@@@@@@@@@@@@@@.@@.@@@@@.@.@@...@@...@@@@....@@@@@@@....@@@@@@@@@@@@@@.@@@@@@.@...@@..@.@@@@.@@@@@..@@..@.@..
@@..@@@@@@..@@@@.@....@@@@@@@..@..@.....@..@@@.@....@..@@@@..@@..@.@@..@.@.@@.@@@..@@@@...@@@..@@@.@...@@..@...@@.@.@.@..@@@.@.@@@@@..@@.@..
@@@..@.@@@@@.@@.@@@.@@@@.@.@.@@@@@..@@@..@..@@.@@.@@@@@@@@.@@@@@.@@@.@@.@@...@@@@.@@.@@..@..@..@@@@@@@@.@@@@@@@.@..@....@@.@..@..@@@@@.@.@@@
@.@@@.@@@..@.@....@.@@.@.@@@@...@.@@..@@@@@@...@@.@.@@@@@.@...@@@@@@@..@.@..@@@@@@.@@@@@@@.@.@.@@@@.@@@@@@..@@.@@@.@.@@@@@@@.@@@@@.@@.@@@...
@.@@@@@..@@@@@@@@@@.@.@@@..@@@@@@@..@@..@@@@@@.@..@@@@@@@@.@@@@..@.@@@.@@@@@..@.@@@@@..@@..@@@@.@@@@..@@@@@@.@@@@@@@@@.@@.@@@.@..@@....@@.@.
.@...@.@@@.@@..@@.@@.@@@@@.@@@..@@@....@..@@.@@..@@@..@@.@.@..@....@.@.@....@@@@.@@@@.@@..@@.@@.@.@@.@.@@..@@@.@@.@.@@@.@@@@..@@...@..@@.@@.
@@@@@@..@@@@.@@@@@@.@...@..@.@@@.@@@@.@@@@..@@..@@@..@@@@@@@@...@.@....@@@@@@.@@@..@..@@@@.@.@@@@@@@.@@@....@@@.@.@.@.@...@@@@@@.@@@@@@.@@@@
.@@@@@....@@.@@@@@.@@@.....@@.@@@.@@@@@...@@.@@..@..@.@.@@@@....@@@@@@@@..@@.@.@@@..@@@..@@@@@@@@.@@.@@..@@@..@...@.@.@@@@..@@@....@@@@@...@
...@@@.@@@.@@@@.@.@@@@@@@.@.@@@..@@@@@@@@@.@.@@.@@@@.@@@@@@@@@@@@@@@@@@@@@.@@@@.@@...@....@@.@@@..@@..@....@.@@@..@@@...@@@.@@.@@@@@@@@.....
@@@.@@..@.@..@.@.@@@@@.@@@@.@@.@..@@@....@.@@@@@.@..@.@...@@@@@@.@.@.....@.@@.@@@.@@@@@@@@@@@.@@@@@@..@@@@@.@.@@@..@..@...@@@@@@@@@@@@.@@@@@
@@.@@..@@@@@@@..@.@@@@@..@@@@@@.@@...@@@..@.@@@@@@.@.....@@.@@@.@@@@.@@@@..@.@@..@@.@.@.@@@@@.@@@@@@@@.@@@@@.@.@..@@.@@@@@@@.@@..@..@@..@.@.
.@@.@.@@@@@.@.@@..@@@.@@@@@@@..@@@.@@.@@@....@@@@..@.@@@.@..@.@.@@@.@.@@...@.@@@@@@.@..@.@.@@.@@@@@@@@@.@@.@.@.@.@@@@@@@@.@@@.@@...@@.@@@.@@
@@....@@@.@.@@@.@.@.@@@....@@@.@.@@...@@@..@@@@.@@@@@....@@@.@.@@@@@@.@.@.@...@.@@@@@.@.@@.@..@@@@@@@@.@....@@@..@@@@.@@...@.@...@@@@@.@.@.@
@..@@.@.@...@.@.@..@@@@@.@......@.@@@@....@@.@..@@@.@@@@@.@.@.@@@@.@@@@@@@.@@@@..@@@...@.@@@@@...@@@@@@@@@.@@.@.@@@.@..@@@@@@.@.....@@@.@@@@
.@@@@@..@@@@@@@.@@.@@@@.@@@@@.@.@.@@..@@@@.@@.@.@@.@@@@@@.@@@@@@@..@@..@@@@..@@@@..@@.@@@.@@@@.@.@@@..@..@@.@.@.@@@...@..@@.@.@@@..@@@.@@@@@
...@@.@@@@@@@@...@@...@@@@@@@@@@@@@@.@@.@@@@@@@@@..@@@.@@@@..@@@...@@..@@@@..@.@@@.@@.@@@.@.@@@@..@..@...@@@@.@@@@.@.@@@@..@@@@@@.@@@@@@.@.@
.@@@@...@@.@@.@.@@@@@@@@@@@.@@@@...@@@@.@@@@@..@@@.@@..@@..@@..@@...@@@@@..@@@...@..@@.@.@@.@@@@@@.@@@@@@@..@@.@..@@@..@.@@..@@@@@@...@@@..@
@.@.@@..@@@.@@@@.@@.@@@@@.@..@@.@@@@@@@@..@@@..@@.@@@.@@.@@.@.@@@@@.@@...@@.@.@.@.@@@.@.@@@@@.@.@@@@@..@..@@@@.@..@@@@@...@@@@@@@@@@@...@@@.
.@@.@...@.@..@.@@@@.@@.@..@@.@@..@@.@@.@@.@@@@@..@..@.@@@@@@@.@@@..@@@.@@@@@.@@@..@@.@@@@@@@..@@@@.@@@@@@@.@.@.@@@@@@@@.@@.@@@@.@@@..@@@..@@
.@@@@....@@.@@@.@....@@@@@@@.@@@@.@@@@@...@@@.@.@.@.@@@.@.@.@@.@@@.@@@@@.@..@@@@@@.@@..@..@.@.@@@@@..@...@...@.@@@.@@@@@@@.@.@@@@...@.@@@@@@
.@@@@@.@@@@@..@@.@.....@.@@.@.....@@@@@@.@@..@@@@.@@....@@@@@...@@.@@...@@@.@@.@@.@@@.@@@@.@.@@@@@@@.@.@@.@..@.@@@@@@.@@.@@..@@@@.@@...@@.@@
.@@.@.@@.@@@@@@@...@@..@.@@@.@@@@@.@@@@@.@@@@@@@@..@@@@@@@...@@.@@@@.@.@@.@.@.@@@..@@@@@.....@@@@@.@@@.@@@.@@.@...@@..@@.@@@@@@@@.@@@....@@.
@..@..@@@@.@....@@@.@..@.@@@@@..@@@@.@@@@.@....@@@..@@@@.@.@.@@..@@@@@@@@.@@@.@@..@.@.@@..@....@@..@.@@.@@.@..@@.@.@@...@.@@@@.@@@@@@@@....@
.@@@@@@@@@.@@@..@.@@@@@@@@@@...@@@@@@@@@@@@.@@@.@@@@@@@@..@@@@..@@.@.@@@.@@@@@.@@@@.@.@@.@@.@.@..@@.@.@@.@.@.@@..@..@@..@.@@@@.@@.@@@.@@@@..
@@@@.@@@@@@.@@.@@@@@.@@@.@@@@@@..@@@.@@@@@@@@@@@@@@..@..@@.@..@@.@@@....@@@@.@..@@@@@@.@...@.@@@.@@@....@@.@@@@@.@@@.@.@@@.@..@@@@@..@@@.@@@
@@.@@.@@@@@@...@@.@@@@@.@@.@@...@.@.@@@@@....@@.@@@@..@@@@@@.@@@@.@@@.@..@@.@...@.@.@@.@.@.@.@@@@.@@@.@@@@.@.@@@@..@@@@@@@...@.@@@.@.@@.@@@@
.@@@@.@@@.@@@@.@@..@..@.@..@@@.@..@..@@.@.@..@.@@@...@.@@.@.@@.@@@.@@@@@..@.@@@.@.@@@@@...@@@@.@.@@@.@.@@@@@@@@@@..@@@...@@.@.@@@@.@.@@....@
@@@.@..@@..@@@@...@@@@@@@.@@@@@.....@.@@@..@.@...@@.@@.@@@@@..@.@@@@.@@@@@@@@@..@..@@@@@@.@@@@@@.@.@.@..@@@@@@...@@@@@...@...@@@@@@.@@@@.@@@
..@...@@@@@@@.@@.@@@.@..@@@@@.@@@@@@.@@@@@..@@..@@@.@@@@@.....@@.@..@@@...@@@@@@@.@.@.@@.@@@@@..@.@@@@.@@@@@...@.@.@@@@@@@.@@@..@@@.@@@@@.@@
.@.@@@.@@.@@@..@....@@@...@@@@@@@..@@.@@@.@@@.@@@@@@..@@.@@...@@@@.@@@@@@@.@@@@..@.@@@@.@..@.@......@@.@.@@@@@@@@.@@@@@@@..@@..@..@@@@.@@@@.
@@..@...@.@@@.@.....@.@.@@.@@.@@..@@.@....@@.@@@..@@@.@.@.@@..@@..@@...@.@..@@..@..@@@@@@@@@@.@@@@.@.@@@.@@..@@@@@@@@@@@@@@@@@.@.@....@..@@.
.@@@.@@@@..@@@.@@@@@.@@.@@@@.@@..@.@@@@@@@@@.@@@@..@@@.@..@@@@..@....@@.@@@..@.@@.@@@@.@.@@@.@@@.@@@..@.@@..@..@.@@@@@.@.@...@@@@..@.@@.@.@@
@...@@@@@.@@@@@@@.@@@@@@.@..@@.@..@.@@@@.@@.@@.@.@@@@@@.@..@.@@.@@@.@@@@@...@..@@@.@@..@.@@@@@@..@@@@.@@@.@@..@.@..@@@@.@@@@...@@@@@@@@@@..@
..@.@@@.@.@.@@@@...@.@@@.@..@.@@@@.@@@.@@..@@.@...@@@@@.@@@.@@@...@@.@.@@..@@@.@@.....@@@.@@@.@@@@.@@.@..@..@@..@@.@@@...@.@@@@@@@@.@@@@.@.@
.@@@@.@@@@.@.@@@.@@..@.@@@.@@@.@@@@@...@@@.@.@@@...@@@...@@@@@.@@..@.@@@@.@@@@@@@@@.@@.@@.@.@.@@@@.@@.@@.@.@.@...@@@@@.@@@..@..@@@@@.@@.@@@@
@@@@@@@@@....@@@@@.@@@@@@.@@@.@@@.@@@..@@@.@@@.@.@@.@@@.@....@...@@@@@..@@@@@.@.@.@@.@..@@.@@..@@.@@@..@@..@@@@@@.@@..@.@@.@@@@@@@.@@..@@@.@
@@@@@@@@@@@@@@.@@@.@@@@@@@@@.@.@@@@.@.@.@@@@@@.@@@..@.@@@.@.@@.@@@@..@@@@...@@.@.@@@@..@.@.@@.@@@@@@.@@@.@.@.@...@....@@....@@..@@..@..@....
.....@@@.@@..@.@@@@@@.@@@@.@@@.@@@@..@@@@@@.@@.@@@@.@@@@@.@@@@@@@.@@@@@@....@@@@.@@@.@@.@.@.@@@@@@@@@@@@@.@..@.@.@@@@@.@@@..@@@.@.@.@@@@@.@@
@.@@@.@.....@.@@@@@.@.@@@@.@@..@@.@@.@@..@.@@@@@@@@@@.@.@..@.@.@@@..@.@@@@@......@.@@@......@@@.@@@..@@..@@@.@@@@..@@..@..@.@@@..@@@@@@..@@@
@.@.@@@@.@..@@@.@.....@...@@@.@@@.@@.@@@@.@@@@@@.@@..@@....@.@@@@@.@@@.@@@@..@...@@@.@@.@.@.@@.@@@...@.@@@....@@@@@@.@@@.@@.@.@@@.@@.@....@@
.@@@@@@@@@..@.@@@.@@@@.@@@@...@@.@@@.@.@@@.@@..@@@@.@@@@@@@@.@@@.@@@.@@.@@.@.@..@@@@@@@@@@....@@.@@@@.@@@....@@@..@.@@@@.@@@.@@..@.@@@.@@.@@
@.@@@..@..@@@@.@@@@@@...@...@.@@@@@.@@@...@.@@.@@.@@@.@@.@.@@@@@@@@@@@.@.@@.@....@@.@@@@.@@@@.@.@.@..@@@@@@@@@@.@....@......@@@...@@@@@@@@@@
.@@.@@..@.@....@...@.@@.@.@.@@@@..@.@@..@@.@@.@@@.@@@..@@...@..@@.@@.@..@..@@.@.@@@.@@@@..@@@.@@@@@@@..@@.@.@.@@@@@@@@.@@@@@.@@@@.@.@@.@.@..
.@.@@@.@@@@@.@@@..@@.@@@@@.@@@..@@@@..@@.@.@.@@@@@@@@.@@@@..@@..@@.@..@....@@@@.@@@@@.@@.@@@.....@..@..@.@@.@.@.@@@@@@.@.@@.@@@@@@@.@@.@.@@.
..@..@@@.@..@@@@@....@.@@@@@@.@.@.@@...@@.@..@.@@.@@@@@.@.@@@@.@@....@@@@.@@@.@..@.@@@.@.@...@@..@@@@.@.@@@@.....@@@@.@@@@@@@@.@@.@@@.@..@.@
@@@@@@@@..@...@@.@@.@.@@@@@@@@@@@@.@@@.@@@.@...@@.@@.@...@@@.@@@...@@.@@@.@@....@@@@@...@@@@@@.@@@.@.@.@@.@@@@@.@@@@@@.@@@..@@@.@.@@.@.@.@@@
.@@.@.@@...@@.@@@@@.@@.@..@@@@@@....@@.@@@@.@@@@.@@.@@@@@.@@@@@@.@.@@@@@.@.@@...@@.@.@..@.@..@.@@.@.@@.@@..@@.@@@@@@..@.@.@.@@...@.@@@@.@@@@
@.@@.@@.@@@.@@@@.@@.@@.@@.@@@@.@@@.@@@.@@@@@@@@@@@@@.@.@@@.@@.@@@@..@.@.@@@@..@@@@@@@@@@@@.@.@@@@@@@@@...@@@@@@.@@@@@@@.@@@@@...@@@..@@@@@@@
..@@..@@@.@@@@@.@@@@@@.@@@.@@.@.@@..@@.@.@@.@.@.@@@..@@@@.@@@@@@@@..@@@@@.@@@...@@@@.@@.@@@@@@.@@@..@.@@.@@@@.@.@@.@@@@@.@@@@@@@@@@@@.@.@@@.
@@@.@.@@@@..@@@@@@...@.@@@@.@.@@@@@@@@.@@..@@..@@.@@@.@@@.@.@@@@@@..@..@@@@.@@@@@@@@@@@@.@.@@@@.@@.@@@@@.......@@@.@@@@@....@@@@@...@@@@@@@.
@@@@@..@@@..@@@.@.@@@@.@@.@@@.@.@@..@@@.@..@@@.@.@@@@@@@.@@@.@@@@.@@@@@@@.@@@@...@@@@@@.@.@...@@@@@@..@...@@@.@.@@@@@.@@..@.@@@@@@@.@.@.@.@@
@..@@.@@.....@@.@@.@@@@..@@@@.@.@@@@..@@@.@.@@.@..@.@@..@..@@..@.@@@.@@.@.@@@@@@.@@@.@@@@@@@@.@@..@@@@.@@..@..@.@.@....@@@@.@@@..@.@@.@@@@@@
@@@..@.@@@@.@@@@..@@.@@..@.@..@.@.@@.@@@.@@@@@..@@.@@...@.@@@@...@...@.@@...@@@..@@.@.@..@@.@.@@@@.@@@@@@.@@.@@@@@@.@@@@@@@@.@@.@.@@@@@@@.@@
.@@.@@..@@@.@@@@....@.@@@@@@@@@@@@@..@@.@@.@..@@@@.@@@@@..@@.@.@@@@@@@.@@.@@@...@@.@@@@@@@.@@.@..@.@@@.@@.@@@@@@@@@.@@@.@@..@@.@@@@@@.@@....
.@@..@.@@.@@..@..@@..@@@@.@@@@@.@@..@@.@@.@@@@.@...@..@@@@@.@..@@..@.@@@@@@@@@@@.@@..@@@@@@.@@@.@@...@@@@@@.@@@@@@@@@.@.@@@@@....@.@@@@@.@.@
@.@@.@@....@@@@@@.@.@@..@@@@.@@@@@@@.@..@@.........@@.@@@.@@@@.@@@@.@@.@.@@.@@.@.....@@.@@@@..@@@.@..@.@@@@@@@..@.@@....@@@@.@@@@.@.@.@@..@@
@..@.@@.@@@@.@@@@@@..@..@@@@@@@@..@@@@@@..@.@@.@.@.@@.@.@@@.@.@@.@@..@@...@.@@@@@@@@@@@@.@@@@@@.@@..@@..@@.@@@@@.@..@@@@.@@@@@@.@@@..@@@.@@.
..@.@.@..@@@@@.@@@.@@@@@@..@@@@@@@...@@@@@@.@@@@.@.@@@@@@.@@@.@.@@@@@@.@@@.@.@@@@@@.@..@@@@@@@.@@@@@@@@@@@@@@.@@@..@.@@.@@@@@.@@@@@.@@@@.@@.
.@@.@.@.@@@@@@.@..@@.@...@.....@.@@@@@@@..@@@...@@@@..@@.@.@@@@@@@..@@@.@@@.@@...@.@.@..@@@..@@@.@..@@..@.@@.@@..@.@.@..@@..@@@@.@@@@@.@@.@@
@.@@@@@....@@..@@@@@@.@@@@@@@@@@.@@@@..@.....@@@@@@@@@.@@@..@.@.@@@...@@@@..@@@@@@@@.@@.@@@@@..@@.@@.@@@.@@@@@@@@@.@@@.@.@@@@.@..@.@@..@@.@.
@@@@@@@@@..@@.@@..@@@.@.@@@@.@..@.@@@@.@@@..@@.@@.@@...@..@.@@.@@....@@@@@@..@@@@@@@.@..@@..@@@.@@@@@.@...@@@.@@..@@.@.@.@@@...@.@@@.@@@...@
@@@..@@@@@@@..@@@@..@@@.@@@.@.@@@...@.@..@@@@@@@@.@.@@.@..@.@@.@@@@@.@@....@@...@@@@..@@.@..@@@@.@@..@@.@@@.@@@@@@.@@@@..@..@@@@@@@@@.@@@...
@.....@@@@@@..@.@@.@..@@.@@.@.@@@@...@@@@.@@@@@@@@@.@@@@.@@@@@..@@@@@.@@.@.@@@.@@.@..@.@@@@@@@@@@.@@@@@@@@@.@.@@@.@@..@.@..@@@@@@@@.@@.@@@.@
@@@@@@@@.@.@.....@@@.@@..@@@@@@@.@@@@@@@@@@.@@@.@..@@@@@@@@@@..@@.@@@@.@@@.@@@@...@@.@@.@@.@@@@@@@@@@@@@@@.@@.@@.@@.@@@@..@@@.@....@@@.@.@..
@..@@@@.@@@@@@@.@..@@@@@@@@.@@.@...@@..@@@@@.@@@.@..@@@.@@@.@..@@@@..@@@.@@@@@@.@..@...@@@@...@@@.@@@@@.@@@@.@.....@@@@@..@.@@@.@.@.@@@@.@@.
@@@@@.@...@..@@@@.@@@.@@@@@@@@.@@@..@@....@.@.@@.@.@@@@@@......@.@@@.@.@@@@.@...@@@@@.@@@@...@@@@@@@.@@.@@@@@@.@...@@@@.@@@@@@.@@@@@@@.@.@.@
@@@@@@.@.@@.@@@..@..@@@@@@@@@..@@@.@@@@.@@.@@@@...@@@.@.@..@.@.@@.@@@@..@@@@@@..@.@.@@.@@...@.@@@@.@.@@@.@@@@@@@@@.@.@.@.@.@.@@.@..@@@@@@@@.
.@@.@.@.@...@..@@@@@.@@..@@@@@.@@@@.@@.@@@@.@@..@..@@@@@..@..@@@.@@.@..@@.@@..@@@.@@@@@@.@@...@.@@.@@@.@@..@.@@@@@@..@.@@@@@@@.@.@.@.@@@@@@@
@@.@@@..@@@.@.@@.@@@@.@@@.@@.@@.@@..@@@@@@@@.@@@.@.@.@.@..@@@@@@...@@@.@.@@@.@.@@@.@..@@@..@.@@@.@@@@@.@@@@...@@@@@@@@@@@..@@.@..@@.@@...@@.
..@@@@@@@@@.@@.@@..@.@@.@@@@.@@.@@@@@@..@@@...@....@@.@@..@.@@...@@@..@@.@@@.@...@@..@@@@.@@@@.@@@@@..@.@@...@@.@@..@..@@@@@@@@..@@@@@@@@@@@
@@.@...@@@@@@@@...@.@@.@@@@..@.@@@..@@.@@@@@.@...@@@.@@@.@@@@.@@.@@@@.@@@@@.@@.@@..@@.@@@@@@@..@@...@@.@@@@@@@.@@@.@.@@@.@..@@@@@@@@@@...@@.
.@.@@@..@@@@@@.@@@..@@@@@..@..@@@@...@@.@.@..@@@@...@.@@@@.@@@@@..@@.@@@@.@.@..@..@@@...@.@@@.@@.@.@@@@@@..@..@.@.@@.@@@@@@@.@@@..@.@@@@@@@.
@.@@.@@.......@@@.@..@@@@@..@@@@...@@@@@@.@@@@@@@.@@@@@@....@@@@@@@@@.@@@@@.@@..@@@@@.@@@@@.@.@@@@...@@@@@.@@.@.@.@.....@@.@@@.@...@@....@@.
@@@@.@@@..@@..@@@....@.@@@@@..@@@@@@@.@.@@.....@.@.@@@.@.@.@@@@.@@@@@.@.@.@.@.@@..@@@@.@@@@@@@@.@@@...@..@@.@.@@@@@@@..@@.@.@@@@.@.@@@.@...@
@.@@.@@@@@@@@.@@@..@@@..@.@@@@@@@@@@@@..@.@@@.@@@.@@.@..@.@@..@..@@@@@@@@....@@@..@@@.@@@....@.@@@.@@.@@@@@...@@@@.@@.@@@..@@.@@@.@@.@.@..@.
..@.@@.@@@@@@.@@..@@.@..@@.@@.@@.@.@.....@..@@@...@@@@@@@@@..@.@.@@@@.@...@@@...@@@@....@@@..@.@.@.@@@..@@..@.@@@@@@@..@@@..@@@..@@.@@@@@.@@
@@@@.@@@@@@@@@@@@@@@..@.@@@.@.@@@@..@..@@.@.@.@@@@@.@@@@@@@@@@@@@.@@@@@.@.@@@.@.@@@@@@..@..@...@.@@@.@@.@@.@@@..@@@@@.@.@@@@..@@.@@..@@@@@.@
@..@.@.@@..@.@@@@@@@.@.@@@@.@.@@@@@@..@@.@@@@@@@@....@@@@@@@@..@@.@.@@@..@@@@@..@@@@..@@@@@.@@@@....@.@@@@@@.@@@@.@.@.@@@.@@@@@.@.@.@.@@.@.@
@@@..@@@..@@@@@..@@@@@....@@@.@@@@@.@.@..@..@.@@@.@@@.@@@..@@..@@.@@..@@@@....@.@@.@@@.@@@@..@.@@@@@..@..@..@...@@.@@@@.@@@@@@@..@@@@.....@@
@@..@@@@@.@@@.@@@@.@..@.@.@@@@...@@..@@@@.@....@@@.@@.@@@@@@..@.@.@@@@.@@@@..@@....@@@.@@@@@.@@@@@@@@.@.@.@@@@@@.@@.@.@..@@.....@.@.@.@...@@
@.@@@@@@@@@@@@@@@@@.@@@@@@@@@@.@.@.@@@..@@@.@..@@...@.@@@@@..@@@@@@@..@@.@@@.@.@.@.@@.@@@@@.@.@@@@@..@.@@.@...@@@.@@.@.@.@@@@..@@@@@.@..@...
@@@....@@...@.@@@@@@@..@@.@@@.@@@@@@@@..@@@@@.@@@@@.@@@@.@..@.@.@@.@@@@@@@@...@@@.@@@.@.@@..@@@@.@@..@@.@..@.@@..@@@@.@@@.@@@@..@@.@.@@@@.@@
..@.@@@@@@@...@.@@@@...@.@@@..@@...@@.@..@@.@@..@@@@@..@@..@.@@@@@@@..@..@@@@@@@@@@@@@.@.@..@@@@@.@.@@@@@..@...@.@@..@@.@...@..@@.@@@.@@.@@@
.@@@.@@@@.@.@@.@...@.@.@@@..@@@.@@@@@@@@@@..@....@.@@.@@.@@@@.@.@@..@@@@.@@@.@@@@.@@@..@..@@@.@@.@@.@.@.@@@@.@@@..@.@@@@.@.@@@@@.@@.@@.@@@@@
.@@@@.@@@...@@@.@.@..@..@@.@@.@....@@@.@@.@@@@@@@@.@@@@.@@@.@.@@..@.@@@.@@@@@@.@@@@.@@@....@@@.@@@@@.@@@.@@@..@.@@@@@..@@@@@@@@@@@.@@..@.@@@
@@@@@@.@.@@...@.@@.@@@@@.@@.@@..@.@..@.@@@@@@@@.@@@@@@@@@..@.@@@.@.@.@@.@.@@@.@@.@@.@@.@..@..@.@.@@@@@@.@.@@.@@@@.@@....@..@..@..@.@@.@@..@@
@@@..@@@@..@..@..@@@@..@@@..@@...@..@@.@@@@.@@.@..@@@@@@.@.@@@.@@.@@.@@@..@@..@@@.@@.@.@.@@..@@.@@@@@.@.@@@@.@...@@.@@@..@.@@@@.@@..@@.@@@@@
.@..@@@@@@@@..@@..@@..@@@.......@@@@@@....@..@..@@@@.@@@.@@@..@@@@@..@@.@@@..@.@@....@.@@.@.@@.@@@@.@@..@.@.@..@.@.@@.@@@@.@.@@.@@@@.@@@@@@@
@@@@.@@.@.@.@@.@.@..@@..@@@.@@..@@@@@...@.@@..@@.@@@..@@@@..@...@.@.@.@@@.@.@.@.@@..@@.@..@@@..@@@.@@@@@@@..@@@@@..@@@..@@@.@.@...@@.@@@@@@.
@@.@@@@.@@@@.@@@.@@@@@.@@.@@.@@@@@@.@@@.@@..@.@@@.@@@.@..@.@...@@@@@@@..@@@.@@@@@@@@@@.@.@@@.@.@@@@.@@@.@@@.@@@@.@@@.@@@@..@...@@@.@.@@@@@@@
..@@@@.@@@@.@@..@.@@.@@.@@@@@@.@@.@.@@@@.@@@@.@..@...@@@.@@@.@@@@@@..@@@@@@.@@@@.@...@@.@@@.@@..@..@@...@@.@@@@.@@..@...@@...@@@@.@@@@.@@.@@
.@@@@@@@@.@..@@@@@@..@@..@@@@...@.@@..@@.@..@@..@@@.@.@@@.@@.@@@@@.@.@.@@@.@@@@@@@@.@..@@..@@@.@.@@@.@@..@@.@...@..@.@@.@@@.@@.@@@@.@@@@@@@@
.@.@@@.@..@@@@@@@@@@@..@.@.@@@...@@@@.@@@.@.@@@..@@@@@.@.@.@@...@.@@@.@@@.@@@.@@@@@@@@.@.@@@..@@@@@@.@.@@.@@@@@.@@@.@@@@@@@..@.@@@@..@@@@.@@
.@@..@.@@..@@@.@@@.@@@@@..@@@@@@@@...@@@@@@.@@@.@.@@@@@@@.@@.@.@@.@@@@@..@@.@.@@@@@@.@...@@@@@.@@@@@@@@@@@@@@.@@.@..@...@.@@@@.@...@@@@@@@..
.@.@.@@@@@.@@@.@@@..@@@@@@.@@@@@.@@@@@..@.@@..@@@@.@.@.@@...@@@@@@..@@@....@@@@@.@@.@@@@@@@@@.@@@@@.@..@.@@.@.@..@.@@.@@@@@.@.@@@@.@@@@@@@@@
@..@...@@.@.@.@..@@@@....@..@@...@@@.@.@@@@@@@@@@@@.@@.@@@.@@..@@@@@@@@.@@@@@@@@..@.@@@.@.@.@.@.@@@@..@@@@...@...@...@@.@@@..@..@@@@@@.@@@@@
@@@@@@.@.@@.@.@@.....@...@..@@..@@.@@..@@.@@@@@..@.@@@@.@@@@@@..@@@..@@..@@@@@.@@@@@@@..@@..@@@@..@...@..@....@@@..@@@.@@.@@@@.@...@@@..@.@.
@..@@@@.@@@@@@@@..@..@....@@@.@@@..@@@@@@.@...@@@@@@@..@@@@@.@@.@@.@..@@@@...@@@@@@@..@@@@@.@...@@.@@@@@..@..@@@@.@@..@@..@.@...@@.@@.@.@@..
@@@@@@.@...@@@@.@.@.@@@.@..@..@@.@.@@@.@@@@@..@@@@.@@@@.@@@@@...@.@@@@@@@@..@.@@@.@@@.@@@..@@@@@.@@..@@@@@@..@.@@.@.@@@@.@@@@.@..@@@.@@@@@@@
.@@@.@@.@...@.@@@@@@@.@@@.@.@.@.@@..@@@@@@@@.@@@.@@@@@@@@...@@.@.@@@@@@@@@....@.@.@@@@@@..@@@@..@@@@@..@..@@@@.@@@..@@@...@.@.@.@@@@.@.@@@@.
.@@@@@@@@@@@.@@.@@.@@.@@@@@@@@..@@@.@@@@..@.@..@..@@@@@@@..@.@.@@.@@..@@@@@@@.@@.@@@@@@.@.@.@@..@@@...@.@@@.@@.@@@..@.@@@.@@@@@@@@@.@@@..@..
....@.@.@@.@...@@@@..@.@@@@.@@@.@.@.@@@@..@.@.@.@..@@.@@.@@@@@.@@@@@..@@@.@..@@@.@@@@@@@@@@@@.@@@@.@@.@...@@.@@@..@@@.@.@@@@@@@@@@@.@@@.@..@
@...@..@@@..@..@..@.@@.@@..@@@.@....@@@@@@@@.@@..@@.@@.@@@@@.@@@.@.@@@..@..@@...@@@@@@@.@@@@.@...@.@..@@@@.@@@@@.@@..@@@@@@@.@.@.@@@@@@@@.@@
@@..@..@@....@....@@@@@.@@@.@.@.@@@@.@..@@@..@.@@..@@@@@..@@@.@@@.@.@@@.@.@@@@@@@@@@@@@@@@.@@@@.@@@@@.@.@@@@@....@.@@@@..@@..@@@@@@..@.@.@..
@@@@@.@@.@..@..@.@.@@.@@@@@@.@@@@.@@@.@@@@@..@@@.@@@..@@@@@..@.@@@.@@@@@@@.@@@@@@@@@.@.@@.@.@..@@@@@@.@@@.@.@.@.@@@..@@.@.@...@.@.@@..@@@.@@
.@@@@@@@.@.@.@.@@@@@@@@.@@@@@.@@.@@@..@@..@.@...@.@.@@@@@..@.@@.@..@..@..@...@@.@@@.@...@@..@@...@@.@@.@.@@.@@.@@@@@..@@@@@@@..@...@@.@.@..@
.@.@.@@@@@@@@@@@@...@@.@@@@.@@...@.@@...@@...@@.@@.@@.@@@@@@.@.@@@@.@@.@.@@...@@@.@@..@@...@@@@@@@..@.@@....@@@.@@....@@@@@.@@@..@@.@@@@.@@@
@@@...@@@.@.@@@@.@@@.@@.@@@@.@@..@@@@@@@..@@@@@@@@@@.@@..@...@@@...@...@@..@.@@@@@@@@@@.@@@@..@@@..@.@@@.@.@.@@.@.@@.@@@@@@@.@.@@...@@@@...@
@.@.@..@@..@.@@...@@..@@@.@@.@@@.@@.@@@@@.@@.@@@@..@@@@@@...@...@.@@.@..@@.@@@@@@.@..@.@.@@@@@@@@@...@@.@.@@@@.@@..@....@..@@.@@@.@@@@@@@@@.
@@@@.@@.@.@@@@@.@.@@.@@.@@@@@@@@.@..@@.@.@@@@@.@..@@@@@@.@.@@.@...@.@@@@@@@@@@.@@@.@@@@.@@..@@@@.@.@@@@@@@....@.@@@@@@@@..@@@@@.@@@@.@@@.@@@
@.@@@@@@@..@.@.@@.@@@@..@@@@@.@@.@.@@@..@@@@.@@@@@.@@@@@@..@.@@...@.@.@@@@@@@@@@.@@@@.@@@@.@@@.@@@.@@.@.@.@@@@@@@@.@.@@@@@.@@..@@@@...@@@.@@
@...@....@.@@@@@.@.@.@.@@.@@..@@..@..@@@@@.@@.@.@@.@@@.@.@@@.@.@@@@.@.@@.@@@...@@@..@.@@..@.@.@..@@.@@....@@@@..@@.@...@@@@@@@.@@@@@..@@.@@@
"""


# puzzle = """..@@.@@@@.
# @@@.@.@.@@
# @@@@@.@.@@
# @.@@@@..@.
# @@.@@@@.@@
# .@@@@@@@.@
# .@.@.@.@@@
# @.@@@.@@@@
# .@@@@@@@@.
# @.@.@@@.@.
# """

def puzzle2binary_matrix(puzzle):
    lines = puzzle.strip().split('\n')
    matrix = np.array([[1 if char == '@' else 0 for char in line] for line in lines])
    return matrix

def remove_outer_layer(matrix):
    return matrix[1:-1, 1:-1]

bin_puzzle = puzzle2binary_matrix(puzzle)
n_adjacent = convolve2d(bin_puzzle, np.ones((3, 3)), mode='same')
inc = ((n_adjacent <= 4) * bin_puzzle).sum()

total = inc
while inc:
    bin_puzzle = bin_puzzle * (1-(n_adjacent <= 4))
    n_adjacent = convolve2d(bin_puzzle, np.ones((3, 3)), mode='same')
    # print(((n_adjacent <= 4) * bin_puzzle))
    inc = ((n_adjacent <= 4) * bin_puzzle).sum()
    total += inc

print(total)